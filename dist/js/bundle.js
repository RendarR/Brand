(()=>{"use strict";var t,e,s={755:()=>{class t{constructor(t){this.item=t}render(){return`\n            <div class="drop-cart-products-1">\n                <img src="${this.item.productImg}" width="85" height="100" alt="" class="drop-cart-products-1-img">\n                <div class="drop-cart-products-1-text">\n                    <h3 class="drop-cart-products-1-text-h3">${this.item.productName}</h3>\n                    <img src="../src/assets/imgs/stars.png" alt="" class="drop-cart-products-1-text-stars">\n                    <div class="drop-cart-products-1-text-totallist">${this.item.amount}\n                <span>x</span> $${this.item.productPrice}</div>\n                    </div>\n                    <div class="drop-cart-products-1-delete"><img src="../src/assets/imgs/x.png" alt=""></div>\n                </div>\n                \n            \n            `}sum(){return`\n        ${this.item.amount*this.item.productPrice}\n        `}}new class{constructor(t="#basket",e="/basket.json"){this.items=[],this.container=document.querySelector(t),this.containerItems=document.querySelector("#basket-items"),this.totalPrice=document.querySelector("#total"),this.price=document.querySelector("#price"),this.shown=!1,this.url="https://raw.githubusercontent.com/RendarR/Other/master"+e,this.init()}init(){this._get(this.url).then((t=>{this.items=t.content})).finally((()=>{this._render(),this._handleActions(),this._renderSum()}))}_get(t){return fetch(t).then((t=>t.json()))}_render(){let e="";this.items.forEach((s=>{e+=new t(s).render()})),this.containerItems.innerHTML=e}_renderSum(){let e=0;this.items.forEach((s=>{e+=+new t(s).sum()})),this.price.innerHTML=e+"$"}_handleActions(){document.querySelector("#basket-toggler").addEventListener("click",(()=>{this.container.classList.toggle("invisible"),this.shown=!this.shown})),this.container.addEventListener("click",(t=>{"remove"===t.target.name&&this._remove(t.target.dataset.id)}))}add(t){let e=this.items.find((e=>e.productId===t.productId));e?e.amount++:this.items.push(t),this._render()}_remove(t){let e=this.items.find((e=>e.productId===t));e.amount>1?e.amount--:this.items.splice(this.items.indexOf(e),1),this._render()}}},333:()=>{class t{constructor(t){this.item=t}render(){return`\n        <div class="item">\n            <a href="#" class="item_">\n                <div class="item__">\n                    <div class="img_item">\n                    <div class="open_text">\n                            <div class="gen_add_to_card">\n                                <img src="../src/assets/imgs/1287.png" alt="">\n                                <p class="p_add_to_card">Add to card</p>\n                            </div>\n                        </div>\n                        <img src="${this.item.productImg}" alt="">\n                    </div>\n                    <div class="footer_item">\n                        <h1 class="h1_item">${this.item.productName}</h1>\n                        <h2 class="h2_item">$${this.item.productPrice}</h2>\n                    </div>\n                </div>\n            </a>\n        </div>`}}new class{constructor(t,e="#catalog",s="/catalog.json"){this.container=document.querySelector(e),this.items=[],this.basket=t,this.url="https://raw.githubusercontent.com/RendarR/Other/master/"+s,this.init()}init(){this._get(this.url).then((t=>{this.items=t})).finally((()=>{this._render(),this._handleActions()}))}_get(t){return fetch(t).then((t=>t.json()))}_fillCatalog(){this.items=getArrayOfObjects()}_render(){let e="";this.items.forEach((s=>{e+=new t(s).render()})),this.container.innerHTML=e}_handleActions(){this.container.addEventListener("click",(t=>{if("add"==t.target.name){let e=t.target.dataset;this.basket.add(this._createNewItem(e))}}))}_createNewItem(t){return{productId:t.id,productName:t.name,productImg:t.img,productPrice:+t.price,amount:1}}}}},i={};function r(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return s[t](n,n.exports,r),n.exports}t=r(755),e=r(333),(()=>{let s=new t.Basket;new e.Catalog(s)})()})();